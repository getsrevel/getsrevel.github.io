<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Hex String :: Getsrevel</title><link>https://getsrevel.github.io/tech/arduino/hex-string/index.html</link><description>Dette eksempel illustrerer hvordan man kan arbejde med strenge, og konvertere de enkelte bytes i en streng til hex tal med foranstillede nuller.
char my_str[] = {72, 101, 106, 44, 32, 10, 86, 101, 114, 100, 101, 110, 33, 0}; char outputBuffer[3]; // Helper function for converting byte value to 2-digit hex string void byte2HexStr(byte val, char* outputBuffer){ const char HEX_DIGITS[16] = "0123456789ABCDEF"; byte upper_nibble_index = (val &amp; 0xf0) >> 4; byte lower_nibble_index = val &amp; 0xf; outputBuffer[0] = HEX_DIGITS[upper_nibble_index]; outputBuffer[1] = HEX_DIGITS[lower_nibble_index]; outputBuffer[2] = '\0'; } void setup() { Serial.begin(115200); // Output some example strings Serial.println("Content:"); Serial.println(my_str); Serial.println(); Serial.println("Content, decimal values of bytes:"); for(int i = 0; i &lt; sizeof(my_str); i++) { Serial.print(my_str[i], DEC); Serial.print(" "); } Serial.println('\n'); Serial.println("Content, hex values of bytes:"); for(int i = 0; i &lt; sizeof(my_str); i++) { Serial.print(my_str[i], HEX); Serial.print(" "); } Serial.println('\n'); Serial.println("Content, hex values zero-padded bytes:"); for(int i = 0; i &lt; sizeof(my_str); i++) { byte2HexStr(my_str[i], outputBuffer); Serial.print(outputBuffer); Serial.print(" "); } Serial.println('\n'); Serial.println("Content, append to string object:"); String myStrObject = ""; for(int i = 0; i &lt; sizeof(my_str); i++) { myStrObject += String(my_str[i], HEX); } Serial.println(myStrObject); Serial.println(); Serial.println("Content, append to string object using byte2HexStr helper:"); myStrObject = ""; for(int i = 0; i &lt; sizeof(my_str); i++) { byte2HexStr(my_str[i], outputBuffer); myStrObject += outputBuffer; } Serial.println(myStrObject); Serial.println(); Serial.println("Content, append to string object with separator:"); myStrObject = ""; for(int i = 0; i &lt; sizeof(my_str); i++) { myStrObject += String(my_str[i], HEX); // add separator except for the last element if(i &lt; (sizeof(my_str) - 1)){ myStrObject += ":"; } } Serial.println(myStrObject); Serial.println(); Serial.println("Content, append to string object using byte2HexStr helper with separator:"); myStrObject = ""; for(int i = 0; i &lt; sizeof(my_str); i++) { byte2HexStr(my_str[i], outputBuffer); myStrObject += outputBuffer; // add separator except for the last element if(i &lt; (sizeof(my_str) - 1)){ myStrObject += ":"; } } Serial.println(myStrObject); Serial.println(); } void loop() { }Når eksemplet køres på en arduino generes dette output på seriel porten.</description><generator>Hugo</generator><language>en-us</language><lastBuildDate/><atom:link href="https://getsrevel.github.io/tech/arduino/hex-string/index.xml" rel="self" type="application/rss+xml"/></channel></rss>